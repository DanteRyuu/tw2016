<!DOCTYPE html>

<html>
<head>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="stylesheet" type="text/css" href="css/tab_bar_overview_statistics_style.css" media="screen" />
<title>Spartan Assault</title>

<script src="/javascript/jquery.js"></script>
</head>
<body>
	<div id="container">
		<div id="magic_div">
			<script type="text/javascript">
				var xmlhttp = new XMLHttpRequest();
				xmlhttp.open("GET","http://spartan-assault-danteryuu.c9users.io/main_info", true);
				xmlhttp.onreadystatechange=function(){
					if (xmlhttp.readyState==4 && xmlhttp.status==200){
						var json_text = xmlhttp.responseText;
						
						var json_obj = JSON.parse(json_text);
						var myUsername = json_obj.username;
						
						var snippet = "<div id=\"username\">"+myUsername+"<\/div>";
						$(function() {
							$('#username').replaceWith($(snippet));
						});
					}
				}
				xmlhttp.send();
				
				var xmlhttp_fights = new XMLHttpRequest();
				xmlhttp_fights.open("GET","http://spartan-assault-danteryuu.c9users.io/fights", true);
				xmlhttp_fights.onreadystatechange=function(){
					if (xmlhttp_fights.readyState==4 && xmlhttp_fights.status==200){
						var json_text = xmlhttp_fights.responseText;
						
						var json_obj = JSON.parse(json_text);
						$(function() {
							$('#total').text(json_obj.total);
						});
						$(function() {
							$('#wins').text(json_obj.wins);
						});
						$(function() {
							$('#defeats').text(json_obj.defeats);
						});
						$(function() {
							$('#draws').text(json_obj.draws);
						});
						$(function() {
							$('#dmg_taken').text(json_obj.dmg_taken);
						});
						$(function() {
							$('#dmg_dealt').text(json_obj.dmg_dealt);
						});
						$(function() {
							$('#gold_won').text(json_obj.gold_won);
						});
						$(function() {
							$('#gold_lost').text(json_obj.gold_lost);
						});
					}
				}
				xmlhttp_fights.send();
				
				var	xmlhttp_pvp = new XMLHttpRequest();
				xmlhttp_pvp.open("GET","http://spartan-assault-danteryuu.c9users.io/pvp", true);
				xmlhttp_pvp.onreadystatechange=function(){
					if (xmlhttp_pvp.readyState==4 && xmlhttp_pvp.status==200){
						var json_text = xmlhttp_pvp.responseText;
						
						var json_obj = JSON.parse(json_text);
						$(function() {
							$('#total_pvp').text(json_obj.total_pvp);
						});
						$(function() {
							$('#wins_pvp').text(json_obj.wins_pvp);
						});
						$(function() {
							$('#defeats_pvp').text(json_obj.defeats_pvp);
						});
						$(function() {
							$('#draws_pvp').text(json_obj.draws_pvp);
						});
						$(function() {
							$('#dmg_taken_pvp').text(json_obj.dmg_taken_pvp);
						});
						$(function() {
							$('#dmg_dealt_pvp').text(json_obj.dmg_dealt_pvp);
						});
						$(function() {
							$('#gold_won_pvp').text(json_obj.gold_won_pvp);
						});
						$(function() {
							$('#gold_lost_pvp').text(json_obj.gold_lost_pvp);
						});
					}
				}
				xmlhttp_pvp.send();
			</script>
			<div id="username"></div>
			<div id="tablediv">
				<table style="width:100%; height:50%">
					<tr style="background-color:rgba(204,164,42)">
						<td>Dungeon statistics</td>
						<td>Arena statistics</td>
					</tr>
					<tr>
						<td>
							<table style="width:100%; height:50%">
								<tr>
									<td>Total fights</td>
									<td id="total"></td>
								</tr>
								<tr>
									<td>Wins</td>
									<td id="wins"></td>
								</tr>
								<tr>
									<td>Defeats</td>
									<td id="defeats"></td>
								</tr>
								<tr>
									<td>Draws</td>
									<td id="draws"></td>
								</tr>
								<tr>
									<td>Total damage taken</td>
									<td id="dmg_taken"></td>
								</tr>
								<tr>
									<td>Total damage dealt</td>
									<td id="dmg_dealt"></td>
								</tr>
								<tr>
									<td>Gold won</td>
									<td id="gold_won"></td>
								</tr>
								<tr>
									<td>Gold lost</td>
									<td id="gold_lost"></td>
								</tr>
							</table>
						</td>
						<td>
							<table style="width:100%; height:50%">
								<tr>
									<td>Total fights</td>
									<td id="total_pvp"></td>
								</tr>
								<tr>
									<td>Wins</td>
									<td id="wins_pvp"></td>
								</tr>
								<tr>
									<td>Defeats</td>
									<td id="defeats_pvp"></td>
								</tr>
								<tr>
									<td>Draws</td>
									<td id="draws_pvp"></td>
								</tr>
								<tr>
									<td>Total damage taken</td>
									<td id="dmg_taken_pvp"></td>
								</tr>
								<tr>
									<td>Total damage dealt</td>
									<td id="dmg_dealt_pvp"></td>
								</tr>
								<tr>
									<td>Gold won</td>
									<td id="gold_won_pvp"></td>
								</tr>
								<tr>
									<td>Gold lost</td>
									<td id="gold_lost_pvp"></td>
								</tr>
							</table>
						</td>
					</tr>
				</table>
			</div>
		</div>
	</div>
</body>
</html>